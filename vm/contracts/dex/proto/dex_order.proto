syntax="proto3";

package proto;

message Order {
    uint64 Id = 1;
    string Address = 2;
    uint32 TradeAsset = 3;
    uint32 QuoteAsset = 4;
    bool   Side = 5; // false buy, true sell
    uint32 Type = 6; // 0 limit order, 1 market order
    double Price = 7;
    uint64 Quantity = 8;
    uint64 Amount = 9; // QuoteAmount
    uint32 Status = 10;
    uint32 cancelReason = 11;
    int64 Timestamp = 12;
    uint64 ExecutedQuantity = 13;
    uint64 ExecutedAmount = 14;
    uint32 refundAsset = 15;
    uint64 refundQuantity = 16; //refund trade/quote asset
}

message OrderNode {
    Order Order = 1;
    repeated uint64 ForwardOnLevel = 2;
    repeated uint64 backwardOnLevel = 3;
}

message OrderListMeta {
    uint64 Header = 1;
    uint64 Tail = 2;
    uint32 Length = 3;
    uint32 Level = 4;
    repeated uint64 ForwardOnLevel = 5;
}

message OrderBook {
    repeated string MarketSide = 1; //format : TradeAsset|QuoteAsset|Side
}

message Transaction {
    uint64 Id = 1;
    bool TakerSide = 2;
    uint64 TakerId = 3;
    uint64 MakerId = 4;
    double Price = 5;
    uint64 Quantity = 6;
    uint64 Amount = 7;
    int64 Timestamp = 8;
}

message OrderEvent {

}
