syntax="proto3";

package vitepb;

import "vitepb/account_block_net.proto";
import "vitepb/snapshot_block_net.proto";

message StatusMsg {
    uint64 NetID = 1;
    uint64 Version = 2;
    uint64 Height = 3;
    bytes CurrentBlock = 4;
    bytes GenesisBlock = 5;
    uint32 Port = 6;
}

message GetSnapshotBlocksMsg {
    bytes Origin = 1;
    uint64 Count = 2;
    bool Forward = 3;
}

message SnapshotBlocksMsg {
    repeated vitepb.SnapshotBlockNet blocks = 1;
}

message GetAccountBlocksMsg {
    bytes Origin = 1;
    uint64 Count = 2;
    bool Forward = 3;
}

message AccountBlocksMsg {
    repeated vitepb.AccountBlockNet blocks = 3;
}

// version 2
message BlockID {
    bytes Hash = 1;
    uint64 Height = 2;
}

message Segment {
    BlockID From = 1;
    BlockID To = 2;
    uint64 Step = 3;
}

message AccountSegment {
    bytes Address = 1;
    Segment Segment = 2;
}

message MultiAccountSegment {
    repeated AccountSegment Segments = 1;
}

message FileList {
    repeated string Files = 1;
    uint64 Start = 2;
    uint64 End = 3;
}

message SubLedger {
    repeated vitepb.SnapshotBlockNet SBlocks = 1;
    repeated vitepb.AccountBlockNet ABlocks = 2;
}
